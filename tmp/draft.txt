Тема очередей, оказывается связаной рассуждениями из предыдущей главы. Поведение сильно нагруженной очереди, для которой \lambda \sim \mu, описывается тем же процессом, что и случайное блуждание. Её длина может вырастать практически неограниченно, но потом, всё же уменьшается.

Наши рассуждения о полосах в жизни и ... но премежутки


Наконец, говоря о том как благие намерения могут обмануть, нельзя не упомянуть о совершенно возмутительном парадоксе Браэса. Это наблюдаемый эффект, который приводит к тому, что в коммуникационной сети, содержащей очереди, добавление новых простых связей (не стохастических) может привести к уменьшению пропускной способности всей сети. Этот парадокс получил достаточно широкую известность тогда, когда… позже…
Простейшей моделью, в которой можно наблюдать этот эффект, может быть дорожная сеть, в которой два населённых пункта A и B соединены двумя дорогами так, как показано на рисунке. При этом выделяются четыре участка дорог, два из которых AC и DB – достаточно широки и свободны, так что среднее время пути по ним занимает известное постоянное время t_0. Два других плеча – AD и CB имеют склонность к образованию заторов. Дорожный поток и дорожная пробка во многом похожи на очередь и для них тоже работает теорема Литтла, позволяющая связать время пути по загруженному (или узкому) участку дороги с числом машин на дороге. Таким образом, для загруженных участков время пути можно считать пропорциональным числу участников дорожного движения: t \propto N. 
Тут мы вынуждены сделать одно предположение, которое выходит за рамки темы книжки. Оно касается того, как люди принимают решения. Это тоже можно описывать математически с помощью методов теории игр, области знания, которое получило широкое развитие в последние десятилетия. Здесь я не хочу вдаваться в подробности этой теории, а сразу воспользуюсь одним из её результатов – понятием равновесия Нэша. Простыми словами, поведение людей во многих случаях можно считать оптимизирующим, они пытаются уменьшить потери и увеличить свои преимущества, но во взаимодействии с такими же оптимизирующими игроками группа игроков может нащупать некое равновесное состояние, на самое лучшее, но хотя бы удовлетворительное. Применительно к нашим дорогам, приход к равновесию Нэша выразится в том, что водители будут стремиться к тому, чтобы распределиться по обоим плечам дорог ACB и ADB поровну. Так что, если обычно из города A в город B ездит N автомобилистов, то время в пути можно выразить как \lambda N/2+t_0.
Пусть теперь, стремясь оптимизировать движение в этой сети, мы построим связку CD, причем постараемся сделать её как можно шире и лучше, чтобы время на её преодоление было как можно меньше. Существенно меньше даже, чем t_0. Воспользовавшись ею, автомобилист сможет попасть из пункта A в пункт B за время порядка 2*t_0 (ACDB), либо 2*\lambda N/2 (ADCB). Но, правда, только при условии, что он будет один. Пусть t_0 > \lambda N/2. Как только все прознают о новой дороге, то, естественно, постараются пользоваться только ею. И вот к чему это приведёт: в равновесии Нэша публика предпочтёт путь ADCB, загрузив тем самым участки AD и CB, так что мы должны получить следующие характерные времена пути: ACB -- \lambda N+t_0, ADB -- \lambda N+t_0, ADCB -- 2*\lambda N, ACDB --  2*t_0
Подвох в том, что все эти времена превысят прежний средний результат \lambda N/2+t_0.



В стационарном случае все участники движения


Эта же картина наблюдается и в шкафу, в который мы складываем вещи с мыслью разобрать их когда-нибудь потом. Но потом, мы задвигаем то, что уже лежит в шкафу поглубже и добавляем в него новые вещи. Так что даже если мы, всё же станем их постепенно разбирать, до «ископаемых» у самой стенки руки дойдут нескоро.
Для демонстрации несправедливости распределения времени между различными делами в ведомстве бюрократа (или вещами в нашем шкафу), изобразим кривые Лоренца для FIFO и FILO очередей, описываемых формулой M/M/1. Если для всех FIFO-очередей кривая Лоренца одинакова, то несправедливость FILO-очередей зависит от соотношения \lambda и \mu. Чем их отношение ближе к единице, тем ближе к единице оказывается и индекс Джини. На рисунке показана кривая Лоренца для нашей примерной очереди. 
Закон сохранения клиентов, то есть, равнство входного и выходного потока может сыграть ещё одну злую шутку. Если, стремясь оптимизировать работу учреждения, начальство снизит число кассиров или операторов до минимально необходимого, ориентируясь на входящий или выходящий поток клиентов, то рискует получить , а мы знаем, что. Таким образом, это разумное, как кажется, решение, основанное, к тому же, на рассчетах, приведёт к неограниченному и плохо контролируемому росту времени ожидания. Метастабильная очередь может какое-то время вести себя «хорошо», а потом внезапно превратиться в совершеннейший коллапс.
Поведение очереди на пределе её пропускной способности моделируется случайным блужданием, подобно тому, как мы моделировали перепады настроения, с той только разницей, что длина очереди не может быть отрицательной. Но непроницаемая стенка не мешает такому блужданию практически неограниченно увеличивать длину очереди. И, хотя, рано или поздно, она сократится и даже исчезнет, отклонения времени ожидания и времени работы оператора от среднего будут столь велики, что динамика очереди станет практически непредсказуемой.


********************************************************************************

Когда мы говорим о массе, расстоянии или температуре, нам достаточно одного положительного числа, чтобы вместить в него необходимую информацию. Эти числа подчиняются знакомой нам со школы алгебре, их можно складывать, вычитать, пременожать. В рассуждениях о скорости или силе, одним числом уже не обойтись, нам понадобится два или три числа, чтобы передать информацию о направлении движения или прилагаемой силы. Такие наборы чисел называются векторами и они тоже образуют алгебру.  Сложную электрическую цепь, систему дорог в городе или социальные связи можно описывать с помощью рисунка (графа) или с помощью специальной числовой таблицы -- матрицы. При описании рельефа, температуры в комнате или движении воздуха в атмосфере, на смену числам приходит нечто новое -- скалярное или векторное поле. Поле уже нельзя описать перечислив его значения, их будет бесконечно много, вместо этого описывается некое правило или закон, которые позволяют для каждой точки пространства однозначно получить какое-то числовое (векторное или даже матричное) значение. Такие законы называются функциями. С помощью функций можно уже получить описание движения брошенного камня или планет, выяснить как связаны одни величины с другими. И, конечно же, функции тоже образуют свою алгебраическую структуру.       




